"use strict";(globalThis["webpackChunknamtar_rules_vue"]=globalThis["webpackChunknamtar_rules_vue"]||[]).push([[486],{8379:(e,t,s)=>{s.r(t),s.d(t,{default:()=>le});var n=s(9835),c=s(6970);const a=(0,n._)("div",{class:"text-h5 q-mt-sm q-mb-xs"},"Nouvelle Aptitude",-1),l={class:"text-caption text-grey"},i={class:"text-caption text-grey"},d={class:"text-caption text-grey"},r={class:"text-caption text-grey"},o={class:"text-caption text-grey"},u={class:"text-caption text-grey"},m={class:"row q-col-gutter-sm justify-center"},p={class:"row q-col-gutter-sm justify-center"},f={class:"row q-col-gutter-sm justify-center"},E={class:"row q-col-gutter-sm justify-center"};function h(e,t,s,h,S,x){const b=(0,n.up)("NamTitle"),w=(0,n.up)("q-card-section"),_=(0,n.up)("q-card"),y=(0,n.up)("q-tab"),g=(0,n.up)("q-tabs"),v=(0,n.up)("TypeAptitudeItem"),k=(0,n.up)("q-tab-panel"),T=(0,n.up)("VecteurItem"),q=(0,n.up)("EffetItem"),W=(0,n.up)("ExtensionCard"),C=(0,n.up)("q-tab-panels"),N=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(N,{padding:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Aptitude")])),_:1}),(0,n.Wm)(_,{bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{horizontal:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"col-6",vertical:""},{default:(0,n.w5)((()=>[a,(0,n._)("div",l,[(0,n.Uk)(" Type : "),(0,n._)("strong",null,(0,c.zw)(e.SelectedType),1)]),(0,n._)("div",i,[(0,n.Uk)(" Vecteur : "),(0,n._)("strong",null,(0,c.zw)(e.SelectedVecteur&&e.SelectedVecteur.Nom),1)]),(0,n._)("div",d,[(0,n.Uk)(" Effet : "),(0,n._)("strong",null,(0,c.zw)(e.getSelectedEffectsWithRank()),1)]),(0,n._)("div",r,[(0,n.Uk)(" Extension : "),(0,n._)("strong",null,(0,c.zw)(e.getSelectedExtentionWithRank()),1)])])),_:1}),(0,n.Wm)(w,{class:"col-6",vertical:""},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n.Uk)(" Cout : "),(0,n._)("strong",null,(0,c.zw)(e.computeCost()),1)]),(0,n._)("div",u,[(0,n.Uk)(" Test à réaliser : "),(0,n._)("strong",null,(0,c.zw)(e.SelectedVecteur&&e.SelectedVecteur.Difficulte),1)])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(g,{modelValue:e.SelectedTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.SelectedTab=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{name:"Type",label:"Types"}),(0,n.Wm)(y,{name:"Vecteur",label:"Vecteur"}),(0,n.Wm)(y,{name:"Effet",label:"Effets"}),(0,n.Wm)(y,{name:"Extension",label:"Extension d'effet"})])),_:1},8,["modelValue"]),(0,n.Wm)(C,{class:"bg-transparent",modelValue:e.SelectedTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.SelectedTab=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{name:"Type"},{default:(0,n.w5)((()=>[(0,n._)("div",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.TypesAptitude,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.Nom,class:"col-12"},[(0,n.Wm)(v,{Type:t,onIsSelected:s=>e.changeType(t)},null,8,["Type","onIsSelected"])])))),128))])])),_:1}),(0,n.Wm)(k,{name:"Vecteur"},{default:(0,n.w5)((()=>[(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.Vecteurs,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.Nom,class:"col-12"},[(0,n.Wm)(T,{Vecteur:t,onIsSelected:s=>e.SelectedVecteur=t},null,8,["Vecteur","onIsSelected"])])))),128))])])),_:1}),(0,n.Wm)(k,{name:"Effet"},{default:(0,n.w5)((()=>[(0,n._)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.availableEffects,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.Nom,class:"col-12"},[(0,n.Wm)(q,{Effet:t,onRankIncreased:s=>e.increaseEffectRank(t),onRankDecreased:s=>e.decreaseEffectRank(t),Disabled:!t.IsCummulable&&e.SelectedEffects.has(t.Nom)},null,8,["Effet","onRankIncreased","onRankDecreased","Disabled"])])))),128))])])),_:1}),(0,n.Wm)(k,{name:"Extension"},{default:(0,n.w5)((()=>[(0,n._)("div",E,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.availableExtentions,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.Nom,class:"col-12"},[(0,n.Wm)(W,{Extension:t,onRankIncreased:s=>e.increaseExtentionRank(t),onRankDecreased:s=>e.decreaseExtentionRank(t),Disabled:!t.IsCummulable&&e.SelectedExtension.has(t.Nom)},null,8,["Extension","onRankIncreased","onRankDecreased","Disabled"])])))),128))])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var S=s(499),x=s(2349);const b={class:"text-h5 q-mt-sm q-mb-xs"},w={class:"text-caption text-grey"};function _(e,t,s,a,l,i){const d=(0,n.up)("q-card-section"),r=(0,n.up)("q-btn"),o=(0,n.up)("q-card-actions"),u=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(u,{bordered:"",class:(0,c.C_)(e.Disabled?"transparent":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{horizontal:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"col-10",vertical:""},{default:(0,n.w5)((()=>[(0,n._)("div",b,(0,c.zw)(e.Effet.Nom),1),(0,n._)("div",w,(0,c.zw)(e.Effet.Description),1)])),_:1}),(0,n.Wm)(o,{vertical:"",class:"col-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{flat:"",round:"",onClick:e.increment,disable:e.Disabled,icon:"add"},null,8,["onClick","disable"]),(0,n.Wm)(r,{flat:"",round:"",onClick:e.decrement,icon:"remove"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["class"])}const y=(0,n.aZ)({props:{Effet:{type:Object,required:!0},Disabled:{type:Object,required:!1}},emits:["rank-increased","rank-decreased"],methods:{increment(){this.$emit("rank-increased")},decrement(){this.$emit("rank-decreased")}}});var g=s(1639),v=s(4458),k=s(3190),T=s(1821),q=s(2458),W=s(9984),C=s.n(W);const N=(0,g.Z)(y,[["render",_],["__scopeId","data-v-adc47148"]]),Z=N;C()(y,"components",{QCard:v.Z,QCardSection:k.Z,QCardActions:T.Z,QBtn:q.Z});var D=s(9031);const V={class:"text-h5 q-mt-sm q-mb-xs"},R={class:"text-caption text-grey"},A={class:""};function I(e,t,s,a,l,i){const d=(0,n.up)("q-card-section"),r=(0,n.up)("q-card"),o=(0,n.Q2)("ripple");return(0,n.wy)(((0,n.wg)(),(0,n.j4)(r,{bordered:"",onClick:t[0]||(t[0]=t=>e.$emit("is-selected")),class:"cursor-pointer q-hoverable"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{vertical:""},{default:(0,n.w5)((()=>[(0,n._)("div",V,(0,c.zw)(e.Type.Nom),1),(0,n._)("div",R,(0,c.zw)(e.Type.Description),1),(0,n._)("div",A,(0,c.zw)(e.Type.DescriptionDetails),1)])),_:1})])),_:1})),[[o]])}const Q=(0,n.aZ)({props:{Type:{type:Object,required:!0}},emits:["is-selected"]});var z=s(1136);const j=(0,g.Z)(Q,[["render",I]]),H=j;C()(Q,"components",{QCard:v.Z,QCardSection:k.Z}),C()(Q,"directives",{Ripple:z.Z});const $={class:"text-h5 q-mt-sm q-mb-xs"},U={class:"text-caption text-grey"};function F(e,t,s,a,l,i){const d=(0,n.up)("q-card-section"),r=(0,n.up)("q-card"),o=(0,n.Q2)("ripple");return(0,n.wy)(((0,n.wg)(),(0,n.j4)(r,{bordered:"",onClick:t[0]||(t[0]=t=>e.$emit("is-selected")),class:"cursor-pointer q-hoverable"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{vertical:""},{default:(0,n.w5)((()=>[(0,n._)("div",$,(0,c.zw)(e.Vecteur.Nom),1),(0,n._)("div",U,(0,c.zw)(e.Vecteur.Description),1),(0,n._)("div",null,"Action : "+(0,c.zw)(e.Vecteur.Difficulte),1)])),_:1})])),_:1})),[[o]])}const O=(0,n.aZ)({props:{Vecteur:{type:Object,required:!0}},data(){return{Selected:(0,S.iH)(!1)}},emits:["is-selected"]}),P=(0,g.Z)(O,[["render",F],["__scopeId","data-v-2db0e992"]]),K=P;C()(O,"components",{QCard:v.Z,QCardSection:k.Z}),C()(O,"directives",{Ripple:z.Z});const Y={class:"text-h5 q-mt-sm q-mb-xs"},B={class:"text-caption text-grey"};function M(e,t,s,a,l,i){const d=(0,n.up)("q-card-section"),r=(0,n.up)("q-btn"),o=(0,n.up)("q-card-actions"),u=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(u,{bordered:"",class:(0,c.C_)(e.Disabled?"transparent":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{horizontal:""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{vertical:"",class:"col-10"},{default:(0,n.w5)((()=>[(0,n._)("div",Y,(0,c.zw)(e.Extension.Nom),1),(0,n._)("div",B,(0,c.zw)(e.Extension.Description),1)])),_:1}),(0,n.Wm)(o,{vertical:"",class:"col-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{flat:"",round:"",onClick:e.increment,disable:e.Disabled,icon:"add"},null,8,["onClick","disable"]),(0,n.Wm)(r,{flat:"",round:"",onClick:e.decrement,icon:"remove"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["class"])}const G=(0,n.aZ)({props:{Extension:{type:Object,required:!0},Disabled:{type:Object,required:!1}},emits:["rank-increased","rank-decreased"],methods:{increment(){this.$emit("rank-increased")},decrement(){this.$emit("rank-decreased")}}}),J=(0,g.Z)(G,[["render",M],["__scopeId","data-v-4678e498"]]),L=J;C()(G,"components",{QCard:v.Z,QCardSection:k.Z,QCardActions:T.Z,QBtn:q.Z});const X=(0,n.aZ)({name:"AptitudeInfoPage",components:{NamTitle:D.Z,TypeAptitudeItem:H,VecteurItem:K,EffetItem:Z,ExtensionCard:L},data(){return{SelectedTab:(0,S.iH)("Type"),TypesAptitude:x.F.getAllTypes(),Vecteurs:x.F.getAllVecteur(),SelectedType:(0,S.iH)(),SelectedVecteur:(0,S.iH)(),SelectedEffects:(0,S.iH)(new Map),SelectedExtension:(0,S.iH)(new Map)}},computed:{availableEffects(){return this.SelectedType?x.F.getAllEffect().filter((e=>e.StabiliteParTypeAptitude.has(this.SelectedType))):x.F.getAllEffect()},availableExtentions(){return this.SelectedType&&this.SelectedType?x.F.getAllExtension().filter((e=>e.StabiliteParTypeAptitude.has(this.SelectedType))):x.F.getAllExtension()}},methods:{getSelectedEffectsWithRank(){return Array.from(this.SelectedEffects.entries()).map((([e,t])=>`${e}(${t})`)).join(" - ")},increaseEffectRank(e){if(this.SelectedEffects.has(e.Nom)){const t=this.SelectedEffects.get(e.Nom);this.SelectedEffects.set(e.Nom,t+1)}else this.SelectedEffects.set(e.Nom,1)},decreaseEffectRank(e){if(!this.SelectedEffects.has(e.Nom))return;const t=this.SelectedEffects.get(e.Nom);1!==t?this.SelectedEffects.set(e.Nom,t-1):this.SelectedEffects.delete(e.Nom)},increaseExtentionRank(e){if(this.SelectedExtension.has(e.Nom)){const t=this.SelectedExtension.get(e.Nom);this.SelectedExtension.set(e.Nom,t+1)}else this.SelectedExtension.set(e.Nom,1)},decreaseExtentionRank(e){if(!this.SelectedExtension.has(e.Nom))return;const t=this.SelectedExtension.get(e.Nom);1!==t?this.SelectedExtension.set(e.Nom,t-1):this.SelectedExtension.delete(e.Nom)},getSelectedExtentionWithRank(){return Array.from(this.SelectedExtension.entries()).map((([e,t])=>`${e}(${t})`)).join(" - ")},updateExtentionRank(e,t){0!==t?this.SelectedExtension.set(e.Nom,t):this.SelectedExtension.delete(e.Nom)},computeCost(){return this.SelectedType&&Array.from(this.SelectedEffects.values()).length?x.F.printAptitudeCost(x.F.computeStabilityScore(this.SelectedType,this.SelectedEffects,this.SelectedExtension),this.SelectedType):"Incomplet"},changeType(e){this.SelectedType=e.Nom,this.SelectedEffects.clear(),this.SelectedExtension.clear()}}});var ee=s(9885),te=s(2230),se=s(7661),ne=s(9800),ce=s(4106);const ae=(0,g.Z)(X,[["render",h]]),le=ae;C()(X,"components",{QPage:ee.Z,QCard:v.Z,QCardSection:k.Z,QTabs:te.Z,QTab:se.Z,QTabPanels:ne.Z,QTabPanel:ce.Z})}}]);