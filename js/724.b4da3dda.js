"use strict";(globalThis["webpackChunknamtar_rules_vue"]=globalThis["webpackChunknamtar_rules_vue"]||[]).push([[724],{7724:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Y});var a=l(9835),s=l(6970);const r=(0,a._)("h3",{class:"text-center"},"Creation de creature",-1),i={class:"row q-gutter-md justify-center"},o={class:"text-caption text-grey text-center"},c={class:"col-md-6 col-xs-4 text-h6 text-center"},u={class:"row justify-center items-baseline q-my-md"},n={class:"col"},d={class:"row justify-center"},m={class:"q-my-xl q-mx-md text-h4 text-overline"},p={class:"q-my-xl q-mx-md text-h4 text-overline"},C={class:"q-my-xl q-mx-md text-h4 text-overline"},h={class:"q-my-xl q-mx-md text-h4 text-overline"},w={class:"q-my-xl q-mx-md text-h4 text-overline"},f={class:"col"},A={class:"row q-gutter-md q-my-md"},g={class:"row q-ma-md"},q={class:"row q-col-gutter-sm justify-center items-stretch"},_=(0,a._)("div",{class:"text-overline"},"Selectionnez une aptitude",-1);function y(e,t,l,y,x,v){const E=(0,a.up)("q-btn"),I=(0,a.up)("q-card-section"),S=(0,a.up)("q-card"),k=(0,a.up)("q-select"),W=(0,a.up)("q-item-label"),b=(0,a.up)("q-item-section"),N=(0,a.up)("q-item"),R=(0,a.up)("q-list"),H=(0,a.up)("q-space"),Z=(0,a.up)("AptitudeCard"),V=(0,a.up)("q-input"),Q=(0,a.up)("q-scroll-area"),D=(0,a.up)("q-dialog"),G=(0,a.up)("q-page"),L=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(G,{padding:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{padding:""},{default:(0,a.w5)((()=>[r,(0,a._)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.Creature.Caracteristiques.entries(),(([t,l])=>((0,a.wg)(),(0,a.iD)("div",{key:l,class:"col"},[(0,a.Wm)(S,{style:{height:"100%"},flat:"",class:"bg-accent"},{default:(0,a.w5)((()=>[(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a._)("p",o,(0,s.zw)(t),1),(0,a.Wm)(I,{horizontal:"",class:"row justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{class:"col-md-3 col-xs-4",flat:"",color:"primary",icon:"remove",onClick:l=>e.updateCaracRank(t,-1)},null,8,["onClick"]),(0,a._)("p",c,(0,s.zw)(l),1),(0,a.Wm)(E,{class:"col-md-3 col-xs-4",flat:"",color:"primary",icon:"add",onClick:l=>e.updateCaracRank(t,1)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128))]),(0,a._)("div",u,[(0,a._)("div",n,[(0,a._)("div",d,[(0,a._)("p",m,(0,s.zw)(e.AttributsName.PV)+" : 0 ",1),(0,a._)("p",p,(0,s.zw)(e.AttributsName.RESILIENCE)+" : 0 ",1),(0,a._)("p",C,(0,s.zw)(e.AttributsName.REFLEXES)+" : 0 ",1),(0,a._)("p",h,(0,s.zw)(e.AttributsName.INITIATIVE)+" : 0 ",1),(0,a._)("p",w,(0,s.zw)(e.AttributsName.STRESS)+" : 0 ",1)])]),(0,a._)("div",f,[(0,a._)("div",A,[(0,a.Wm)(k,{dense:"",outlined:"",class:"col-8",modelValue:e.CompetenceSelected,"onUpdate:modelValue":t[0]||(t[0]=t=>e.CompetenceSelected=t),label:"Ajouter une compÃ©tence",options:e.availableCompetence},null,8,["modelValue","options"]),(0,a.Wm)(E,{class:"col-md-3 col-xs-4",flat:"",color:"primary",icon:"add",onClick:t[1]||(t[1]=t=>e.addCompetenceRank1())})]),(0,a.Wm)(R,{bordered:"",separator:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.Creature.Competences.entries(),(([t,l])=>((0,a.wg)(),(0,a.j4)(N,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(t)+" : "+(0,s.zw)(l),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(b,{side:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(E,{flat:"",color:"primary",icon:"remove",onClick:l=>e.updateCompRank(t,-1)},null,8,["onClick"]),(0,a.Wm)(E,{flat:"",color:"primary",icon:"add",onClick:l=>e.updateCompRank(t,1)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])]),(0,a._)("div",g,[(0,a.Wm)(E,{outline:"",class:"col-4",onClick:t[2]||(t[2]=t=>e.OpenDialApt=!0),label:"Ajouter une aptitude",icon:"add"}),(0,a.Wm)(H,{class:"col-8"})]),(0,a._)("div",q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.creatureAptitudes,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.Nom,class:"col-12 col-md-4 col-xl-3"},[(0,a.Wm)(Z,{style:{height:"100%"},Aptitude:e},null,8,["Aptitude"])])))),128))]),(0,a.Wm)(D,{modelValue:e.OpenDialApt,"onUpdate:modelValue":t[3]||(t[3]=t=>e.OpenDialApt=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{style:{width:"600px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(I,{class:"row items-center q-pb-none"},{default:(0,a.w5)((()=>[_,(0,a.Wm)(H),(0,a.wy)((0,a.Wm)(E,{icon:"close",flat:"",round:"",dense:""},null,512),[[L]])])),_:1}),(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a.Wm)(V,{dense:"",outlined:"",modelValue:e.AptSearch,label:"rechercher..."},null,8,["modelValue"])])),_:1}),(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{style:{height:"500px"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.aptFiltered,(e=>((0,a.wg)(),(0,a.j4)(Z,{key:e.Nom,Aptitude:e,class:"q-my-md"},null,8,["Aptitude"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var x=l(499),v=l(628),E=l(6930),I=l(4088);class S{constructor(){this.Nom="Creature inconnue",this.Caracteristiques=new Map([[I.H.VIGUEUR,0],[I.H.AGILITE,0],[I.H.ADRESSE,0],[I.H.INTELLIGENCE,0],[I.H.CHARISME,0]]),this.Competences=new Map([]),this.Genotraits=new Map([]),this.Aptitudes=new Set([])}computePoolPV(){return(this.Caracteristiques.get(I.H.VIGUEUR)||0)+5+Array.from(this.Genotraits.entries()).map((([e,t])=>(e.Modificateurs.get(E.I.PV)||0)*t)).reduce(((e,t)=>e+t))}computePoolResilience(){return(this.Caracteristiques.get(I.H.VIGUEUR)||0)+Array.from(this.Genotraits.entries()).map((([e,t])=>(e.Modificateurs.get(E.I.RESILIENCE)||0)*t)).reduce(((e,t)=>e+t))}computePoolReflexes(){return(this.Caracteristiques.get(I.H.AGILITE)||0)+Array.from(this.Genotraits.entries()).map((([e,t])=>(e.Modificateurs.get(E.I.REFLEXES)||0)*t)).reduce(((e,t)=>e+t))}computePoolStress(){return(this.Caracteristiques.get(I.H.INTELLIGENCE)||0)+(this.Caracteristiques.get(I.H.CHARISME)||0)+Array.from(this.Genotraits.entries()).map((([e,t])=>(e.Modificateurs.get(E.I.STRESS)||0)*t)).reduce(((e,t)=>e+t))}}var k=l(4515),W=l(2349);const b=(0,a.aZ)({components:{AptitudeCard:v.Z},data(){return{AttributsName:E.I,Creature:new S,CompetenceSelected:(0,x.iH)(),OpenDialApt:(0,x.iH)(!1),AptSearch:(0,x.iH)(""),Apt:W.F.getAllAptitudes().filter(((e,t)=>t<4))}},computed:{availableCompetence(){return k._.getAllCompetences().filter((e=>!Array.from(this.Creature.Competences.keys()).includes(e.Nom))).map((e=>e.Nom))},creatureAptitudes(){return W.F.findAptitudesByNames(Array.from(this.Creature.Aptitudes.values()))},aptFiltered(){return W.F.getAllAptitudes().filter((e=>!this.Creature.Aptitudes.has(e.Nom)))}},methods:{updateCaracRank(e,t){const l=this.Creature.Caracteristiques.get(e);void 0!==l&&this.Creature.Caracteristiques.set(e,l+t)},addCompetenceRank1(){const e=k._.getAllCompetences().find((e=>e.Nom===this.CompetenceSelected));e&&(this.Creature.Competences.set(null===e||void 0===e?void 0:e.Nom,1),this.CompetenceSelected=(0,x.iH)())},updateCompRank(e,t){const l=this.Creature.Competences.get(e);void 0!==l&&(l+t!=0?this.Creature.Competences.set(e,l+t):this.Creature.Competences.delete(e))}}});var N=l(1639),R=l(9885),H=l(4458),Z=l(3190),V=l(4455),Q=l(215),D=l(3246),G=l(490),L=l(1233),z=l(3115),j=l(136),T=l(2074),M=l(6611),P=l(6663),U=l(2146),F=l(9984),K=l.n(F);const O=(0,N.Z)(b,[["render",y]]),Y=O;K()(b,"components",{QPage:R.Z,QCard:H.Z,QCardSection:Z.Z,QBtn:V.Z,QSelect:Q.Z,QList:D.Z,QItem:G.Z,QItemSection:L.Z,QItemLabel:z.Z,QSpace:j.Z,QDialog:T.Z,QInput:M.Z,QScrollArea:P.Z}),K()(b,"directives",{ClosePopup:U.Z})}}]);