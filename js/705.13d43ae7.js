"use strict";(globalThis["webpackChunknamtar_rules_vue"]=globalThis["webpackChunknamtar_rules_vue"]||[]).push([[705],{4481:(e,t,n)=>{n.r(t),n.d(t,{default:()=>le});var s=n(9835),c=n(6970);const a=(0,s._)("div",{class:"text-h5 q-mt-sm q-mb-xs"},"Nouvelle Aptitude",-1),l={class:"text-caption text-grey"},i={class:"text-caption text-grey"},o={class:"text-caption text-grey"},r={class:"text-caption text-grey"},d={class:"text-caption text-grey"},u={class:"text-caption text-grey"},m={class:"row q-col-gutter-sm justify-center"},p={class:"row q-col-gutter-sm justify-center"},f={class:"row q-col-gutter-sm justify-center"},E={class:"row q-col-gutter-sm justify-center"};function h(e,t,n,h,S,x){const w=(0,s.up)("NamTitle"),_=(0,s.up)("q-card-section"),y=(0,s.up)("q-card"),g=(0,s.up)("q-tab"),v=(0,s.up)("q-tabs"),k=(0,s.up)("TypeAptitudeItem"),b=(0,s.up)("q-tab-panel"),T=(0,s.up)("VecteurItem"),q=(0,s.up)("EffetItem"),W=(0,s.up)("ExtensionCard"),Z=(0,s.up)("q-tab-panels"),N=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(N,{padding:""},{default:(0,s.w5)((()=>[(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Aptitude")])),_:1}),(0,s.Wm)(y,{bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{horizontal:""},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"col-6",vertical:""},{default:(0,s.w5)((()=>[a,(0,s._)("div",l,[(0,s.Uk)(" Type : "),(0,s._)("strong",null,(0,c.zw)(e.SelectedType),1)]),(0,s._)("div",i,[(0,s.Uk)(" Vecteur : "),(0,s._)("strong",null,(0,c.zw)(e.SelectedVecteur&&e.SelectedVecteur.Nom),1)]),(0,s._)("div",o,[(0,s.Uk)(" Effet : "),(0,s._)("strong",null,(0,c.zw)(e.getSelectedEffectsWithRank()),1)]),(0,s._)("div",r,[(0,s.Uk)(" Extension : "),(0,s._)("strong",null,(0,c.zw)(e.getSelectedExtentionWithRank()),1)])])),_:1}),(0,s.Wm)(_,{class:"col-6",vertical:""},{default:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s.Uk)(" Cout : "),(0,s._)("strong",null,(0,c.zw)(e.computeCost()),1)]),(0,s._)("div",u,[(0,s.Uk)(" Test à réaliser : "),(0,s._)("strong",null,(0,c.zw)(e.SelectedVecteur&&e.SelectedVecteur.Difficulte),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(v,{modelValue:e.SelectedTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.SelectedTab=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{name:"Type",label:"Types"}),(0,s.Wm)(g,{name:"Vecteur",label:"Vecteur"}),(0,s.Wm)(g,{name:"Effet",label:"Effets"}),(0,s.Wm)(g,{name:"Extension",label:"Extension d'effet"})])),_:1},8,["modelValue"]),(0,s.Wm)(Z,{class:"bg-transparent",modelValue:e.SelectedTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.SelectedTab=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"Type"},{default:(0,s.w5)((()=>[(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.TypesAptitude,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.Nom,class:"col-12"},[(0,s.Wm)(k,{Type:t,onIsSelected:n=>e.changeType(t)},null,8,["Type","onIsSelected"])])))),128))])])),_:1}),(0,s.Wm)(b,{name:"Vecteur"},{default:(0,s.w5)((()=>[(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.Vecteurs,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.Nom,class:"col-12"},[(0,s.Wm)(T,{Vecteur:t,onIsSelected:n=>e.SelectedVecteur=t},null,8,["Vecteur","onIsSelected"])])))),128))])])),_:1}),(0,s.Wm)(b,{name:"Effet"},{default:(0,s.w5)((()=>[(0,s._)("div",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.availableEffects,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.Nom,class:"col-12"},[(0,s.Wm)(q,{Effet:t,onRankIncreased:n=>e.increaseEffectRank(t),onRankDecreased:n=>e.decreaseEffectRank(t)},null,8,["Effet","onRankIncreased","onRankDecreased"])])))),128))])])),_:1}),(0,s.Wm)(b,{name:"Extension"},{default:(0,s.w5)((()=>[(0,s._)("div",E,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.availableExtentions,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.Nom,class:"col-12"},[(0,s.Wm)(W,{Extension:t,onRankIncreased:n=>e.increaseExtentionRank(t),onRankDecreased:n=>e.decreaseExtentionRank(t)},null,8,["Extension","onRankIncreased","onRankDecreased"])])))),128))])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var S=n(499),x=n(2349);const w={class:"text-h5 q-mt-sm q-mb-xs"},_={class:"text-caption text-grey"};function y(e,t,n,a,l,i){const o=(0,s.up)("q-card-section"),r=(0,s.up)("q-btn"),d=(0,s.up)("q-card-actions"),u=(0,s.up)("q-card");return(0,s.wg)(),(0,s.j4)(u,{bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{horizontal:""},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{class:"col-10",vertical:""},{default:(0,s.w5)((()=>[(0,s._)("div",w,(0,c.zw)(e.Effet.Nom),1),(0,s._)("div",_,(0,c.zw)(e.Effet.Description),1)])),_:1}),(0,s.Wm)(d,{vertical:"",class:"col-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",round:"",onClick:e.increment,icon:"add"},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",onClick:e.decrement,icon:"remove"},null,8,["onClick"])])),_:1})])),_:1})])),_:1})}const g=(0,s.aZ)({props:{Effet:{type:Object,required:!0}},emits:["rank-increased","rank-decreased"],methods:{increment(){this.$emit("rank-increased")},decrement(){this.$emit("rank-decreased")}}});var v=n(1639),k=n(4458),b=n(3190),T=n(1821),q=n(2458),W=n(9984),Z=n.n(W);const N=(0,v.Z)(g,[["render",y],["__scopeId","data-v-2e2af09d"]]),C=N;Z()(g,"components",{QCard:k.Z,QCardSection:b.Z,QCardActions:T.Z,QBtn:q.Z});var V=n(9031);const R={class:"text-h5 q-mt-sm q-mb-xs"},A={class:"text-caption text-grey"},Q={class:""};function D(e,t,n,a,l,i){const o=(0,s.up)("q-card-section"),r=(0,s.up)("q-card"),d=(0,s.Q2)("ripple");return(0,s.wy)(((0,s.wg)(),(0,s.j4)(r,{bordered:"",onClick:t[0]||(t[0]=t=>e.$emit("is-selected")),class:"cursor-pointer q-hoverable"},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{vertical:""},{default:(0,s.w5)((()=>[(0,s._)("div",R,(0,c.zw)(e.Type.Nom),1),(0,s._)("div",A,(0,c.zw)(e.Type.Description),1),(0,s._)("div",Q,(0,c.zw)(e.Type.DescriptionDetails),1)])),_:1})])),_:1})),[[d]])}const z=(0,s.aZ)({props:{Type:{type:Object,required:!0}},emits:["is-selected"]});var I=n(1136);const j=(0,v.Z)(z,[["render",D]]),H=j;Z()(z,"components",{QCard:k.Z,QCardSection:b.Z}),Z()(z,"directives",{Ripple:I.Z});const $={class:"text-h5 q-mt-sm q-mb-xs"},U={class:"text-caption text-grey"};function F(e,t,n,a,l,i){const o=(0,s.up)("q-card-section"),r=(0,s.up)("q-card"),d=(0,s.Q2)("ripple");return(0,s.wy)(((0,s.wg)(),(0,s.j4)(r,{bordered:"",onClick:t[0]||(t[0]=t=>e.$emit("is-selected")),class:"cursor-pointer q-hoverable"},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{vertical:""},{default:(0,s.w5)((()=>[(0,s._)("div",$,(0,c.zw)(e.Vecteur.Nom),1),(0,s._)("div",U,(0,c.zw)(e.Vecteur.Description),1),(0,s._)("div",null,"Action : "+(0,c.zw)(e.Vecteur.Difficulte),1)])),_:1})])),_:1})),[[d]])}const P=(0,s.aZ)({props:{Vecteur:{type:Object,required:!0}},data(){return{Selected:(0,S.iH)(!1)}},emits:["is-selected"]}),K=(0,v.Z)(P,[["render",F],["__scopeId","data-v-2db0e992"]]),O=K;Z()(P,"components",{QCard:k.Z,QCardSection:b.Z}),Z()(P,"directives",{Ripple:I.Z});const Y={class:"text-h5 q-mt-sm q-mb-xs"},B={class:"text-caption text-grey"};function M(e,t,n,a,l,i){const o=(0,s.up)("q-card-section"),r=(0,s.up)("q-btn"),d=(0,s.up)("q-card-actions"),u=(0,s.up)("q-card");return(0,s.wg)(),(0,s.j4)(u,{bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{horizontal:""},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{vertical:"",class:"col-10"},{default:(0,s.w5)((()=>[(0,s._)("div",Y,(0,c.zw)(e.Extension.Nom),1),(0,s._)("div",B,(0,c.zw)(e.Extension.Description),1)])),_:1}),(0,s.Wm)(d,{vertical:"",class:"col-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{flat:"",round:"",onClick:e.increment,icon:"add"},null,8,["onClick"]),(0,s.Wm)(r,{flat:"",round:"",onClick:e.decrement,icon:"remove"},null,8,["onClick"])])),_:1})])),_:1})])),_:1})}const G=(0,s.aZ)({props:{Extension:{type:Object,required:!0}},emits:["rank-increased","rank-decreased"],methods:{increment(){this.$emit("rank-increased")},decrement(){this.$emit("rank-decreased")}}}),J=(0,v.Z)(G,[["render",M],["__scopeId","data-v-39a4eb0f"]]),L=J;Z()(G,"components",{QCard:k.Z,QCardSection:b.Z,QCardActions:T.Z,QBtn:q.Z});const X=(0,s.aZ)({name:"AptitudeInfoPage",components:{NamTitle:V.Z,TypeAptitudeItem:H,VecteurItem:O,EffetItem:C,ExtensionCard:L},data(){return{SelectedTab:(0,S.iH)("Type"),TypesAptitude:x.F.getAllTypes(),Vecteurs:x.F.getAllVecteur(),SelectedType:(0,S.iH)(),SelectedVecteur:(0,S.iH)(),SelectedEffects:(0,S.iH)(new Map),SelectedExtension:(0,S.iH)(new Map)}},computed:{availableEffects(){return this.SelectedType?x.F.getAllEffect().filter((e=>e.StabiliteParTypeAptitude.has(this.SelectedType))):x.F.getAllEffect()},availableExtentions(){return this.SelectedType&&this.SelectedType?x.F.getAllExtension().filter((e=>e.StabiliteParTypeAptitude.has(this.SelectedType))):x.F.getAllExtension()}},methods:{getSelectedEffectsWithRank(){return Array.from(this.SelectedEffects.entries()).map((([e,t])=>`${e}(${t})`)).join(" - ")},increaseEffectRank(e){if(this.SelectedEffects.has(e.Nom)){const t=this.SelectedEffects.get(e.Nom);this.SelectedEffects.set(e.Nom,t+1)}else this.SelectedEffects.set(e.Nom,1)},decreaseEffectRank(e){if(!this.SelectedEffects.has(e.Nom))return;const t=this.SelectedEffects.get(e.Nom);1!==t?this.SelectedEffects.set(e.Nom,t-1):this.SelectedEffects.delete(e.Nom)},increaseExtentionRank(e){if(this.SelectedExtension.has(e.Nom)){const t=this.SelectedExtension.get(e.Nom);this.SelectedExtension.set(e.Nom,t+1)}else this.SelectedExtension.set(e.Nom,1)},decreaseExtentionRank(e){if(!this.SelectedExtension.has(e.Nom))return;const t=this.SelectedExtension.get(e.Nom);1!==t?this.SelectedExtension.set(e.Nom,t-1):this.SelectedExtension.delete(e.Nom)},getSelectedExtentionWithRank(){return Array.from(this.SelectedExtension.entries()).map((([e,t])=>`${e}(${t})`)).join(" - ")},updateExtentionRank(e,t){0!==t?this.SelectedExtension.set(e.Nom,t):this.SelectedExtension.delete(e.Nom)},computeCost(){return this.SelectedType&&Array.from(this.SelectedEffects.values()).length?x.F.printAptitudeCost(x.F.computeStabilityScore(this.SelectedType,this.SelectedEffects,this.SelectedExtension),this.SelectedType):"Incomplet"},changeType(e){this.SelectedType=e.Nom,this.SelectedEffects.clear(),this.SelectedExtension.clear()}}});var ee=n(9885),te=n(2230),ne=n(7661),se=n(9800),ce=n(4106);const ae=(0,v.Z)(X,[["render",h]]),le=ae;Z()(X,"components",{QPage:ee.Z,QCard:k.Z,QCardSection:b.Z,QTabs:te.Z,QTab:ne.Z,QTabPanels:se.Z,QTabPanel:ce.Z})}}]);